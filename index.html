<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Master Quiz Architect</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }

.config-card { background: white; border-radius: 1.5rem; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); }

@keyframes scrollText { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

.preview-scroll { overflow: hidden; white-space: nowrap; background: #4f46e5; color: white; padding: 10px; border-radius: 10px; }

.preview-text { display: inline-block; animation: scrollText 12s linear infinite; font-size: 14px; font-weight: bold; text-transform: uppercase; }

</style>

</head>

<body class="p-4 md:p-10">


<div class="max-w-6xl mx-auto">

<header class="text-center mb-10">

<h1 class="text-4xl font-extrabold text-indigo-900 tracking-tight uppercase">Master Quiz Architect</h1>

<p class="text-slate-600 font-bold mt-2">Professional Generator</p>

</header>


<div class="grid grid-cols-1 md:grid-cols-3 gap-8">

<!-- Sidebar Configuration -->

<div class="space-y-6">

<div class="config-card p-6 border-l-8 border-indigo-600">

<h2 class="font-bold text-slate-800 mb-4 text-lg underline decoration-indigo-200">Custom Signatures</h2>

<div class="space-y-4">

<div>

<label class="block text-[10px] font-black text-slate-400 uppercase mb-1">Approval Text</label>

<input type="text" id="approvedByInput" value="Approved By Mr. Katongo" oninput="updatePreviews()" class="w-full p-2 text-sm border rounded-lg font-bold text-indigo-600 bg-slate-50">

</div>

<div>

<label class="block text-[10px] font-black text-slate-400 uppercase mb-1">Prepared By Text</label>

<input type="text" id="preparedByInput" value="Prepared By Mr. Katongo" oninput="updatePreviews()" class="w-full p-2 text-sm border rounded-lg font-bold text-slate-700 bg-slate-50">

</div>

<div>

<label class="block text-[10px] font-black text-slate-400 uppercase mb-1">Rationale Label</label>

<input type="text" id="rationaleLabelInput" value="Mr. Katongo's Rationale" oninput="updatePreviews()" class="w-full p-2 text-sm border rounded-lg font-bold text-indigo-800 bg-slate-50">

</div>

</div>

<div class="mt-8 pt-6 border-t">

<label class="block text-xs font-black text-slate-400 mb-2 uppercase">Signature Preview</label>

<div class="preview-scroll"><div id="sigScroll" class="preview-text">Prepared By Mr. Katongo</div></div>

</div>

</div>


<div class="config-card p-6 border-l-8 border-slate-400">

<h2 class="font-bold text-slate-800 mb-4 text-lg underline decoration-slate-200">Standard Features</h2>

<ul class="text-xs text-slate-600 space-y-3 font-bold">

<li class="flex gap-2 text-indigo-600">✅ Printable Report Layout</li>

<li class="flex gap-2">✅ Student Tracking Logs</li>

<li class="flex gap-2">✅ Attempt Auto-Counter</li>

<li class="flex gap-2">✅ Real-time Time Tracking</li>

<li class="flex gap-2">✅ Review with Rationale</li>

</ul>

</div>

</div>


<!-- Main Editor -->

<div class="md:col-span-2 config-card p-8">

<div class="space-y-8">

<div>

<label class="block text-sm font-bold text-slate-700 mb-2">Quiz Topic Name</label>

<input type="text" id="topicInput" placeholder="e.g., Input and Output Devices" class="w-full p-4 border-2 border-slate-100 rounded-2xl focus:border-indigo-500 outline-none transition font-bold">

</div>


<div id="questionsList" class="space-y-6"></div>


<div class="flex flex-col sm:flex-row gap-4 pt-6">

<button type="button" onclick="addQuestion()" class="flex-1 bg-indigo-50 text-indigo-700 font-black py-4 rounded-2xl hover:bg-indigo-100 transition border-2 border-indigo-100 uppercase tracking-widest text-sm">

+ Add Question

</button>

<button type="button" onclick="generateQuizCode()" class="flex-1 bg-indigo-600 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-indigo-700 transition uppercase tracking-widest text-sm">

Generate Final Quiz File

</button>

</div>

</div>

</div>

</div>

</div>


<script>

let questionCount = 0;


function updatePreviews() {

const prep = document.getElementById('preparedByInput').value;

document.getElementById('sigScroll').innerText = prep;

}


function addQuestion() {

questionCount++;

const questionsContainer = document.getElementById('questionsList');

const questionDiv = document.createElement('div');

questionDiv.className = "p-6 bg-slate-50 rounded-3xl border border-slate-200 relative";

questionDiv.id = `q-block-${questionCount}`;

questionDiv.innerHTML = `

<button onclick="this.parentElement.remove()" class="absolute top-6 right-6 text-red-400 hover:text-red-600 font-bold text-xs uppercase">Delete</button>

<span class="inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-[10px] font-black uppercase mb-4">Question ${questionCount}</span>

<input type="text" placeholder="Question text..." class="q-text w-full p-4 mb-4 border rounded-2xl font-bold text-slate-700 shadow-sm">

<div class="space-y-3">

<input type="text" placeholder="CORRECT ANSWER" class="q-correct w-full p-3 border-2 border-green-200 rounded-xl bg-green-50 placeholder-green-600 font-bold">

<input type="text" placeholder="Wrong Option 1" class="q-wrong w-full p-3 border border-slate-200 rounded-xl bg-white">

<input type="text" placeholder="Wrong Option 2" class="q-wrong w-full p-3 border border-slate-200 rounded-xl bg-white">

<input type="text" placeholder="Wrong Option 3" class="q-wrong w-full p-3 border border-slate-200 rounded-xl bg-white">

</div>

<textarea placeholder="Teacher's Rationale (Explain the answer)..." class="q-rationale w-full p-4 mt-4 border border-indigo-100 rounded-2xl text-sm italic shadow-inner bg-white/50"></textarea>

`;

questionsContainer.appendChild(questionDiv);

questionDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });

}


function generateQuizCode() {

const topic = document.getElementById('topicInput').value || "ICT Assessment";

const approvedBy = document.getElementById('approvedByInput').value || "Approved By Mr. Katongo";

const preparedBy = document.getElementById('preparedByInput').value || "Prepared By Mr. Katongo";

const rationaleLabel = document.getElementById('rationaleLabelInput').value || "Mr. Katongo's Rationale";


const blocks = document.querySelectorAll('[id^="q-block-"]');

if (blocks.length === 0) { alert("Add questions first!"); return; }


const questionsArray = Array.from(blocks).map(block => {

const correct = block.querySelector('.q-correct').value;

const wrongs = Array.from(block.querySelectorAll('.q-wrong')).map(i => i.value);

const rationale = block.querySelector('.q-rationale').value || "No rationale provided.";

const options = [{ text: correct, isCorrect: true }, ...wrongs.filter(w => w.trim() !== "").map(w => ({ text: w, isCorrect: false }))].sort(() => Math.random() - 0.5);

return { question: block.querySelector('.q-text').value, correctText: correct, rationale: rationale, answerOptions: options };

});


const template = `<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<title>\${topic} - \${preparedBy}</title>

<script src="https://cdn.tailwindcss.com"><\/script>

<style>

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }

@keyframes scrollText { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

.scrolling-container { width: 100%; overflow: hidden; background: #4f46e5; color: white; padding: 12px 0; position: fixed; top: 0; left:0; z-index: 50; white-space: nowrap; }

.scrolling-text { display: inline-block; animation: scrollText 15s linear infinite; font-weight: 800; text-transform: uppercase; }

@keyframes rotateTitle { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

.rotating-section { display: flex; justify-content: center; margin-top: 3rem; margin-bottom: 2rem; }

.rotating-text { display: inline-block; animation: rotateTitle 15s linear infinite; transform-origin: center; }

.selected { border-color: #4f46e5 !important; background-color: #f5f3ff !important; }

@media print {

.no-print { display: none !important; }

body { background: white !important; padding: 0 !important; }

.print-card { box-shadow: none !important; border: 1px solid #e2e8f0 !important; border-radius: 0 !important; }

.scrolling-container, .rotating-section { display: none !important; }

}

</style>

</head>

<body class="p-4 pt-24 min-h-screen flex flex-col items-center">

<div class="scrolling-container no-print"><div class="scrolling-text">${preparedBy} • ${topic} • Knowledge Is Power • ${preparedBy} • ${topic}</div></div>

<div class="max-w-3xl w-full">

<div id="reg-box" class="bg-white p-10 rounded-[40px] shadow-2xl border border-indigo-50 no-print">

<h2 class="text-2xl font-black text-indigo-900 mb-6 uppercase">Pupil Registration</h2>

<input type="text" id="sName" placeholder="Enter Full Name" class="w-full p-4 mb-4 border rounded-2xl outline-none focus:ring-4 focus:ring-indigo-100 transition">

<input type="text" id="sId" placeholder="Enter Pupil's ID" class="w-full p-4 mb-6 border rounded-2xl outline-none focus:ring-4 focus:ring-indigo-100 transition">

<button onclick="start()" id="startB" disabled class="w-full bg-indigo-600 text-white py-5 rounded-2xl font-black opacity-30 shadow-lg uppercase tracking-widest">Begin Quiz Now</button>

</div>


<div id="quiz-box" class="hidden bg-white p-10 rounded-[40px] shadow-2xl border border-indigo-50 no-print">

<div class="flex justify-between items-center mb-8 border-b pb-4">

<div class="bg-indigo-50 px-4 py-2 rounded-full border border-indigo-100"><span id="timer" class="font-black text-indigo-700">00:00</span></div>

<span id="prog" class="text-xs font-black text-slate-400 uppercase tracking-widest"></span>

</div>

<h2 id="qText" class="text-2xl font-bold text-slate-800 mb-10 leading-tight"></h2>

<div id="opts" class="space-y-4"></div>

<div class="flex justify-end mt-10">

<button id="nextB" disabled class="bg-indigo-600 text-white px-12 py-4 rounded-2xl font-black shadow-lg disabled:opacity-20 uppercase tracking-widest">Next Question</button>

</div>

</div>


<div id="res-box" class="hidden space-y-8">

<div class="bg-white p-10 rounded-[40px] shadow-2xl border-b-[12px] border-indigo-600 print-card">

<h2 class="text-3xl font-black text-slate-800 text-center uppercase mb-1 tracking-tight">Official Report</h2>

<p class="text-center font-black text-indigo-600 uppercase tracking-[0.2em] text-[10px] mb-8">${approvedBy}</p>

<div class="grid grid-cols-2 gap-4 mb-8 bg-slate-50 p-6 rounded-3xl border border-indigo-50">

<div><p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Student</p><p id="rn" class="font-black text-slate-800 text-lg"></p></div>

<div><p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">ID Number</p><p id="ri" class="font-black text-slate-800 text-lg"></p></div>

<div class="mt-2"><p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Attempt</p><p id="ra" class="font-black text-indigo-600"></p></div>

<div class="mt-2"><p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Time</p><p id="rt" class="font-black text-slate-800"></p></div>

</div>

<div class="text-center py-4">

<p class="text-7xl font-black text-indigo-600 mb-2"><span id="pct"></span>%</p>

<p class="text-xl font-bold text-slate-700 uppercase">Total Marks: <span id="raw"></span></p>

<p id="grade" class="mt-6 inline-block px-8 py-2 rounded-full font-black text-sm uppercase tracking-widest"></p>

</div>

<div class="flex flex-col sm:flex-row justify-center gap-4 mt-10 no-print">

<button onclick="window.print()" class="bg-indigo-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl">Print Report / PDF</button>

<button onclick="restart()" class="bg-slate-800 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl">Retake Quiz</button>

</div>

</div>

<div class="bg-white p-10 rounded-[40px] shadow-xl border border-indigo-50 print-card">

<h3 class="text-xl font-black text-slate-800 mb-8 border-b pb-4">Performance Review</h3>

<div id="revList" class="space-y-6"></div>

<div class="mt-12 pt-8 border-t text-center">

<p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">${preparedBy}</p>

</div>

</div>

</div>

</div>


<footer class="rotating-section no-print"><div class="rotating-text bg-white px-10 py-5 rounded-full shadow-lg border-2 border-indigo-50 font-black text-indigo-700 uppercase text-xs tracking-widest">${preparedBy}</div></footer>


<script>

const data = ${JSON.stringify(questionsArray)};

let cur = 0, score = 0, history = [], t = 0, tInt, attempts = 0;

const iN = document.getElementById('sName'), iI = document.getElementById('sId'), sB = document.getElementById('startB');

const validate = () => { sB.disabled = !(iN.value.trim() && iI.value.trim()); sB.style.opacity = sB.disabled ? '0.3' : '1'; };

iN.oninput = validate; iI.oninput = validate;


function start() {

attempts++;

document.getElementById('reg-box').classList.add('hidden');

document.getElementById('quiz-box').classList.remove('hidden');

startTimer();

show();

}


function startTimer() {

clearInterval(tInt);

tInt = setInterval(() => { t++; let m=Math.floor(t/60).toString().padStart(2,'0'), s=(t%60).toString().padStart(2,'0'); document.getElementById('timer').innerText = \`\${m}:\${s}\`; }, 1000);

}


function show() {

const q = data[cur];

document.getElementById('nextB').disabled = true;

document.getElementById('prog').innerText = \`Question \${cur+1} of \${data.length}\`;

document.getElementById('qText').innerText = q.question;

const oD = document.getElementById('opts'); oD.innerHTML = '';

q.answerOptions.forEach(o => {

const b = document.createElement('button');

b.className = "w-full text-left p-5 border-2 border-slate-100 rounded-3xl font-bold text-slate-700 transition hover:border-indigo-300";

b.innerText = o.text;

b.onclick = () => { Array.from(oD.children).forEach(c => c.classList.remove('selected')); b.classList.add('selected'); b.dataset.c = o.isCorrect; b.dataset.t = o.text; document.getElementById('nextB').disabled = false; };

oD.appendChild(b);

});

}


document.getElementById('nextB').onclick = () => {

const sel = document.querySelector('.selected');

const isC = sel.dataset.c === "true";

if(isC) score++;

history.push({ q: data[cur].question, u: sel.dataset.t, c: data[cur].correctText, r: data[cur].rationale, isC });

cur++;

if(cur < data.length) show(); else finish();

};


function finish() {

clearInterval(tInt);

document.getElementById('quiz-box').classList.add('hidden');

document.getElementById('res-box').classList.remove('hidden');

const p = Math.round((score/data.length)*100);

document.getElementById('pct').innerText = p;

document.getElementById('raw').innerText = \`\${score} / \${data.length}\`;

document.getElementById('rn').innerText = iN.value;

document.getElementById('ri').innerText = iI.value;

document.getElementById('ra').innerText = attempts;

document.getElementById('rt').innerText = document.getElementById('timer').innerText;

const g = document.getElementById('grade');

g.innerText = p >= 50 ? "RESULT: PASSED" : "RESULT: FAILED";

g.className = \`mt-6 inline-block px-8 py-2 rounded-full font-black text-sm uppercase tracking-widest \${p>=50?'bg-green-100 text-green-700':'bg-red-100 text-red-700'}\`;

const list = document.getElementById('revList'); list.innerHTML = '';

history.forEach((h, i) => {

const d = document.createElement('div');

d.className = \`p-6 rounded-[30px] border-l-[10px] mb-4 \${h.isC ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'}\`;

d.innerHTML = \`

<p class="font-black text-slate-800">\${i+1}. \${h.q}</p>

<p class="text-xs mt-3"><b>Your Choice:</b> \${h.u} \${h.isC?'✅':'❌'}</p>

\${!h.isC ? \`<p class="text-xs text-green-700"><b>Correct:</b> \${h.c}</p>\` : ''}

<div class="mt-4 p-4 bg-white/60 rounded-2xl text-[10px] text-slate-600 border border-slate-100 italic">

<b class="text-indigo-600 uppercase tracking-widest block mb-1">${rationaleLabel}:</b>\${h.r}

</div>\`;

list.appendChild(d);

});

}


function restart() {

attempts++; cur = 0; score = 0; history = []; t = 0;

document.getElementById('timer').innerText = "00:00";

document.getElementById('res-box').classList.add('hidden');

document.getElementById('quiz-box').classList.remove('hidden');

startTimer();

show();

}

<\/script>

</body>

</html>`;


const blob = new Blob([template], { type: 'text/html' });

const link = document.createElement('a');

link.href = URL.createObjectURL(blob);

link.download = `${topic.replace(/\s+/g, '_')}_Quiz.html`;

link.click();

}


window.onload = () => {

addQuestion();

updatePreviews();

};

</script>

</body>

</html>